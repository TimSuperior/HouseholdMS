<UserControl x:Class="HouseholdMS.View.TestReportsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="450" d:DesignWidth="800">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="3*"/>
            <ColumnDefinition Width="2*"/>
        </Grid.ColumnDefinitions>

        <!-- Left Panel: Test Report List + Buttons -->
        <Grid Grid.Column="0" Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- Top Buttons (Only Refresh) -->
            <StackPanel Orientation="Horizontal" Margin="0,0,0,10">
                <Button x:Name="RefreshButton"
                        Content="🔄 Refresh"
                        Background="#1976D2"
                        Foreground="White"
                        FontWeight="Bold"
                        Height="36"
                        Width="100"
                        Click="RefreshButton_Click"/>
            </StackPanel>

            <!-- List of Test Reports -->
            <ListView x:Name="TestReportsListView"
                      Grid.Row="1"
                      MinHeight="300"
                      SelectionMode="Single"
                      BorderThickness="1"
                      BorderBrush="#DDD"
                      Background="White"
                      SelectionChanged="TestReportsListView_SelectionChanged"
                      SnapsToDevicePixels="True">
                <ListView.View>
                    <GridView>
                        <GridViewColumn Header="Report ID" Width="70" DisplayMemberBinding="{Binding ReportID}"/>
                        <GridViewColumn Header="Household ID" Width="90" DisplayMemberBinding="{Binding HouseholdID}"/>
                        <GridViewColumn Header="Technician ID" Width="90" DisplayMemberBinding="{Binding TechnicianID}"/>
                        <GridViewColumn Header="Test Date" Width="100" DisplayMemberBinding="{Binding TestDate}"/>
                        <GridViewColumn Header="Status" Width="150" DisplayMemberBinding="{Binding DeviceStatus}"/>
                    </GridView>
                </ListView.View>
            </ListView>
        </Grid>

        <!-- Right Panel: Inline Form Content -->
        <Border Grid.Column="1"
                Background="White"
                CornerRadius="6"
                BorderBrush="#DDD"
                BorderThickness="1"
                Padding="10"
                Margin="10,0,10,0">
            <ContentControl x:Name="FormContent"/>
        </Border>
    </Grid>
</UserControl>
